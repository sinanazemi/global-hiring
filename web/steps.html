<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.2/angular-resource.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.2.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.js"></script>

    <script src="Scripts/steps.js"></script>

    <link href="css/steps_style.css" rel="stylesheet">

    <title>Create Profile</title>

</head>

<body bgcolor="#323232" >
        <div ng-app="globalHiring" ng-controller="stepsController">
            <a href="#" style="text-decoration: none;">
              <div id="step1" class="step-div" ng-hide="step1Hide" >
                    <div class="stepheader">
                        <p class="steptitle">Account Information</p>
                    </div>
                    <img src="images/step_1_bar.png" class="bar-image" alt="Mountain View">
                    <div class="field-div" style="top: 100px;">
                         <p class="field-center-label " style="text-align:center;" >You can also sign up with <span style="color: rgb(3, 186, 109)"> facebook </span>, <span style="color: rgb(3, 186, 109)"> LinkedIn </span> or <span style="color: rgb(3, 186, 109)"> Google </span>.</p>
                    </div>
                    <div class="field-div" style="top: 140px;">
                        <p class="field-label" >Fullname</p>
                        <input type="text" class="field-text-area" placeholder="{{fullnamePlaceholder}}" rows="1" ng-model="fullname" ng-style="requiedStyleFullname"  required>
                    </div>
                    <div class="field-div" style="top: 190px;">
                        <p class="field-label">Email</p>
                        <input type="email" class="field-text-area" placeholder="{{emailPlaceholder}}"  rows="1"  ng-model="email" ng-style="requiedStyleEmail"  required/>
                    </div>
                    <div class="field-div" style="top: 240px;">
                        <p class="field-label">Select City</p><img src="images/location.png" class="location-image" alt="Location">
                        <select class="select-style" ng-model="selectedCity" ng-options="city as city.name for city in cities">
                        </select>

                    </div>
                    <div class="field-div" style="top: 290px;">
                        <p class="field-label">Phone (optional)</p>
                        <input type="text" class="field-text-area" placeholder="(123) 456-7890" rows="1" ng-model="phone" />
                    </div>
                    <div class="field-div" style="top: 340px;">
                        <p class="field-label">Password</p>
                        <input type="password" class="field-text-area" rows="1" placeholder="{{passwordPlaceholder}}"  ng-model="password" ng-style="requiedStylePassword"  required/>
                    </div>
                    <div class="field-div" style="top: 390px;">
                        <p class="field-label" row="1"  >Are you a student?</p>
                        <input type="radio" name="isStudent" value="true" ng-model="isStudent" style="float: left; margin-left: 60px; margin-top: 10px;"/>
                        <p class="radio-button-text" style="float: left; margin-top: 10px;">Yes</p>
                        <input type="radio" name="isStudent" value="false" ng-model="isStudent" style="float: left; margin-left: 50px; margin-top: 10px;"/>
                        <p class="radio-button-text" style="float: left; margin-top: 10px;"> No </p>
                    </div>
                    <div class="field-div" style="top: 420px;">
                      <label class="field-label">
                        <input type="checkbox" ng-model="checkboxValue" style="display: inline-block;">
                          Yes, I understand and agree to the <span style="color: rgb(3, 186, 109)"> global hiring platform terms of service </span>.
                      </label>
                      <p  ng-show="termsOfServiceShow" class=" red-thin-label" style="font-size: 10px;" > Please accept the global hiring platform terms of service before continuing </p>
                    </div>
                    <a href="#" class="next-button green-button button-center" ng-click="step1NextClick()">Next Step</a>
                </div>

                <div id="stepLang" class="step-div" ng-hide="stepLangHide" ng-repeat="langToAdd in langsToAdd" >

                    <div class="stepheader">
                        <p class="steptitle">Language</p>
                    </div>
                    <img ng-src="{{langBarImage}}" class="bar-image" alt="Mountain View">

                    <div class="field-div" style="top: 100px;">
                        <p class="black-bold-label">Language</p>
                    </div>
                    <div class="field-div" style="top: 150px;">
                        <input type="text" class="field-text-area-4" placeholder="English" rows="1" ng-model="langToAdd.name" />
                    </div>
                    <div class="field-div" style="top: 200px;">
                        <p class="black-bold-label">Profeciency</p>
                      </div>

<!--                      <div class="field-div" style="top: 100px;">
                      <div class="container" >
                        <div class="profeciencyRadio-button-text" ng-repeat="profeciency in LanguageProfeciencies" style="display: inline;"  >
                        <input type="radio" name="level" value="elementry" ng-model="langToAdd.profeciency" style="float: left; "/>
                        <p >{{profeciency.text}}</p>
                        <p style="padding-left: 30Px;" >{{profeciency.desc}}</p>
                        </div>
                      </div>
                    </div>
-->
                      <div class="field-div" style="top: 240px;">
                        <input type="radio" name="level" value="E" ng-model="langToAdd.profeciency" style="float: left; "/>
                        <p class="radio-button-text">Elementry</p>
                      </div>
                      <div class="field-div" style="top: 250px;">
                        <p class="black-thin-label">I am only able to understand written text in it.</p>
                      </div>
                      <div class="field-div" style="top: 280px;">
                        <input type="radio" name="level" value="B" ng-model="langToAdd.profeciency" style="float: left; "/>
                        <p class="radio-button-text"> Basic</p> </br>
                      </div>
                      <div class="field-div" style="top: 290px;">
                        <p class=" black-thin-label">I am only able to communicate with it through written communication .</p>
                      </div>
                      <div class="field-div" style="top: 320px;">
                        <input type="radio" name="level" value="C" ng-model="langToAdd.profeciency" style="float: left;"/>
                        <p class="radio-button-text"> Conversational</p>
                      </div><div class="field-div" style="top: 330px;">
                        <p class=" black-thin-label">I know it well enough to verbally discuss project details with a client.</p>
                      </div>
                      <div class="field-div" style="top: 360px;">
                        <input type="radio" name="level" value="F" ng-model="langToAdd.profeciency" style="float: left; "/>
                        <p class="radio-button-text"> Fluent</p>
                      </div>
                      <div class="field-div" style="top: 370px;">
                        <p class=" black-thin-label">I have complete command of it with perfect grammer.</p>
                      </div>
                      <div class="field-div" style="top: 400px;">
                        <input type="radio" name="level" value="N" ng-model="langToAdd.profeciency" style="float: left; "/>
                        <p class="radio-button-text"> Native or Bollingual</p>
                      </div>
                      <div class="field-div" style="top: 410px;">
                        <p class=" black-thin-label">I have complete command of it, including breadth of vocabulary, idioms.</p>
                      </div>
                      <div class="field-div" style="top: 460px;">
                        <p class="add-more-text" ng-click="addMoreLangClick(langToAdd)" style="text-align:center;" >+ Add More Language</p>
                      </div>


                    <a href="#" class="previous-button gray-button button-left" ng-click="langPreClick()">Previous</a>
                    <a href="#" class="next-button green-button button-right" ng-click="langNextClick()"> Next Step </a>
                </div>

                <div id="stepEdu" class="step-div" ng-hide="stepEduHide" ng-repeat="educationToAdd in educationsToAdd">

                   <div class="stepheader">
                        <p class="steptitle">Education</p>
                    </div>
                    <img ng-src="{{eduBarImage}}" class="bar-image" alt="Mountain View">

                    <div class="field-div" style="top: 130px;">
                        <p class="black-bold-label">School</p>
                    </div>
                    <div class="field-div" style="top: 160px;">
                        <input type="text" class="field-text-area-4" rows="1" ng-model="educationToAdd.school" />
                    </div>

                    <div class="field-div" style="top: 190px;">
                        <p class="black-bold-label">Date</p>
                    </div>
                    <div class="field-div" style="top: 220px;">
                        <select class="select-area2" ng-model="educationToAdd.fromdate" placeholder="From"   ng-options="opt as opt for opt in dates" ></select>
                        <select class="select-area2" ng-model="educationToAdd.todate" placeholder="To(or expected graduation year)"   ng-options="opt as opt for opt in dates" style="margin-left: 10px;"  ></select>
                    </div>

                    <div class="field-div" style="top: 250px;">
                        <p class="black-bold-label">Degree</p>
                    </div>
                    <div class="field-div" style="top: 280px;">
                        <select class="select-area3" ng-model="educationToAdd.degree" ng-options="degree as degree.name for degree in degrees">
                        </select>
                    </div>
                    <div class="field-div" style="top: 310px;">
                        <p class="black-bold-label">Field Of Study</p>
                    </div>
                    <div class="field-div" style="top: 340px;">
                        <input type="text" class="field-text-area-4" rows="1" ng-model="educationToAdd.field" />
                    </div>
                    <div class="field-div" style="top: 370px;">
                        <p class="black-bold-label">Grade</p>
                    </div>
                    <div class="field-div" style="top: 400px;">
                        <input type="text" class="field-text-area-4" rows="1" ng-model="educationToAdd.grade" />
                    </div>

                    <div class="field-div" style="top: 460px;">
                      <p class="add-more-text" ng-click="addMoreEduClick(educationToAdd)" style="text-align:center;" >+ Add More Education</p>
                    </div>

                    <a href="#" class="previous-button gray-button button-left" ng-click="eduPreClick()">Previous</a>
                    <a href="#" class="next-button green-button button-right" ng-click="eduNextClick()">Next Step</a>
                </div>

                  <div id="stepMainSRV" class="step-div" ng-hide="stepMainSRVHide">
                    <div class="stepheader">
                        <p class="steptitle">Main Service</p>
                    </div>
                    <img ng-src={{mainSRVBarImage}} class="bar-image" alt="Mountain View">

                      <div class="container"  >
                      <div class="item" ng-repeat='service in mainServices' ng-click='toggleSelectedSRV(service)' ng-class="{ selected: service.isselected  }">
                        <input type="checkbox" ng-attr-id="{{'c' + service.id}}" ng-model="service.isselected" />
                        <label ng-attr-for="{{'c' +service.id}}" ng-class="{ selected: service.isselected  }"> {{service.name}}
                        <!--  <img ng-src="{{getIcon(service)}}">
                        -->
                        </label>
                      </div>
                      </div>


                    <a href="#" class="previous-button gray-button button-left" ng-click="mainSRVPreClick()">Previous</a>
                    <a href="#" class="next-button green-button button-right" ng-click="mainSRVNextClick()">Next Step</a>
                </div>



                <div id="stepSkills" class="step-div" ng-hide="stepSkillHide">

                    <div class="stepheader">
                        <p class="steptitle">Skills</p>
                    </div>
                    <img ng-src={{skillBarImage}} class="bar-image" alt="Skill Bar">

                    <div id="skilldList" class="skill-div" style="top: 100px; overflow:auto">
                      <ul ng-repeat="service in mainServices | filter: {isselected: true } " style="text-align:left; padding-left:2px;" >
                          <p class="black-bold-label" style="text-align:left; padding-left:2px; font-size:12px">{{service.question}}</p>
                        <li ng-repeat="skillOfSRV in service.skills " style="list-style-type:none;">
                          <p class="black-border-label" ng-click="skillClick(skillOfSRV)" ng-class="{ selected: skillOfSRV.isselected }" >{{skillOfSRV.name}}</p>
                        </li>
                      </ul>
                    </div>

                    <a href="#" class="previous-button gray-button button-left" ng-click="skillPreClick()">Previous</a>
                  <a href="/profile.html" class="next-button green-button button-right" ng-click="finishClick()" >Finish</a>
                </div>

            </a>
        </div>

  </body>

<script>
var globalHiring = angular.module('globalHiring',["ngResource"]);
globalHiring.controller('stepsController',["$scope", "$resource", function($scope,$resource, $http, $window) {

  // Steps controller
  //$scope.authenticateHide=false;
  $scope.step1Hide=false;
  $scope.stepLangHide=true;
  $scope.stepEduHide=true;
  $scope.stepMainSRVHide=true;
  $scope.stepSkillHide=true;
  $scope.isStudent=true;

  $scope.fullname='';
  $scope.termsOfServiceShow= false;
  $scope.checkboxValue=false;
  $scope.password='';
  $scope.email='';

  $scope.fullnamePlaceholder="Your full name";
  $scope.emailPlaceholder="you@email.com";
  $scope.passwordPlaceholder="";
  $scope.requiedStyleFullname='';
  $scope.requiedStylePassword='';
  $scope.requiedStyleEmail='';
  // Next buttons click
  $scope.step1NextClick = function(){
    $scope.requiedStyleFullname='';
    $scope.requiedStylePassword='';
    $scope.requiedStyleEmail='';

    if($scope.fullname=='' || $scope.email=='' || !$scope.checkboxValue || $scope.password==''  )
    {
      if($scope.fullname=='' )
      {
        $scope.requiedStyleFullname={
          "border-color": "red",
          "border-style": "solid",
          "border-width" : "1px"
        }
        $scope.fullnamePlaceholder="Fullname is required";
      }
      else {
        $scope.requiedStyleFullname='';
        $scope.fullnamePlaceholder="Your full name";
      }

      if($scope.email=='' )
      {
        $scope.requiedStyleEmail={
          "border-color": "red",
          "border-style": "solid",
          "border-width" : "1px"
        }
        $scope.emailPlaceholder="Email is required";
      }
      else {
        $scope.requiedStyleEmail='';
        $scope.emailPlaceholder="you@email.com";
      }

      if($scope.password=='' )
      {
        $scope.requiedStylePassword={
          "border-color": "red",
          "border-style": "solid",
          "border-width" : "1px"
        }
        $scope.passwordPlaceholder="Password is required";
      }
      else {
        $scope.requiedStylePassword='';
        $scope.passwordPlaceholder="";
      }

      if(!$scope.checkboxValue){
        $scope.termsOfServiceShow= true;
      }
      else{
        $scope.termsOfServiceShow= false;
      }

    }
    else {
      $scope.step1Hide=true;
      if($scope.isStudent){
        $scope.stepLangHide=false;
        $scope.langBarImage="images/step_2_bar.png";
      }
      else {
        $scope.stepMainSRVHide=false;
        $scope.mainSRVBarImage="images/step_2_bar.png";
        $scope.getMainServices();
    }
  }
  };

  $scope.langNextClick = function(){

    if ((index==0 && $scope.langsToAdd[index].name!="" )|| ( $scope.langsToAdd[index].name!="" && $scope.langs[index-1].name != $scope.langsToAdd[index].name ))
    {
      $scope.langsToAdd.splice(index, 0);
       $scope.langs.push(angular.copy($scope.langsToAdd[index]));
    }
    $scope.stepLangHide=true;
    if($scope.isStudent){
      $scope.stepEduHide=false;
      $scope.eduBarImage="images/step_3_bar.png";
    }
    else{
      $scope.stepEduHide=false;
      $scope.eduBarImage="images/step_5_bar.png";

    }
  };
  $scope.eduNextClick = function(){
    if ((indexEdu==0 && $scope.educationsToAdd[indexEdu].school!=""  )|| ($scope.educationsToAdd[indexEdu].school!="" && $scope.educations[indexEdu-1].school != $scope.educationsToAdd[indexEdu].school) )
    {
      $scope.educationsToAdd.splice(indexEdu, 0);
       $scope.educations.push(angular.copy($scope.educationsToAdd[indexEdu]));
    }
      $scope.stepEduHide=true;
    if($scope.isStudent){
      $scope.stepMainSRVHide=false;
      $scope.mainSRVBarImage="images/step_4_bar.png";
      $scope.getMainServices();
    }
    else{
      //$scope.stepSkillHide=false;
      $scope.finishClick();
    }

  };
  $scope.mainSRVNextClick = function(){

    $scope.stepMainSRVHide=true;
    if($scope.isStudent){
      $scope.stepSkillHide=false;
      $scope.skillBarImage="images/step_5_bar.png";
    }
    else{
      $scope.stepSkillHide=false;
      $scope.skillBarImage="images/step_3_bar.png";
    }
  };

  // Previous buttons click
  $scope.langPreClick=function(){
    $scope.stepLangHide=true;
    if($scope.isStudent){
      $scope.step1Hide=false;
    }
    else {
      $scope.stepSkillHide=false;
      $scope.skillBarImage="images/step_3_bar.png";
    }
  }
  $scope.eduPreClick=function(){
    $scope.stepEduHide=true;
    $scope.stepLangHide=false;
    if($scope.isStudent){
      $scope.langBarImage="images/step_2_bar.png";
    }
    else {
      $scope.langBarImage="images/step_4_bar.png";
    }
  }
  $scope.mainSRVPreClick=function(){
    $scope.stepMainSRVHide=true;
    if($scope.isStudent){
      $scope.stepEduHide=false;
      $scope.eduBarImage="images/step_3_bar.png";
    }
    else {
      $scope.step1Hide=false;
    }
  }
  $scope.skillPreClick=function(){
    $scope.stepMainSRVHide=false;
    $scope.stepSkillHide=true;
    if($scope.isStudent){
      $scope.skillBarImage="images/step_5_bar.png";
    }
    else {
      $scope.skillBarImage="images/step_3_bar.png";
    }
  }

  $scope.selectedCity='';

  $scope.dates=[];
  for(var i=1970;i<=2020;i++) {
    $scope.dates.push(i);
  }

  var cities = $resource("/cities")
    cities.query(
      function(data){
        $scope.cities = data;
      } // function(data)
    ) // service.query

    var degrees = $resource("/degrees")
    degrees.query(
      function(data){
        $scope.degrees = data;
      } // function(data)
    ) // service.query


  //Add more Language
  $scope.LanguageProfeciencies = [
    {text: "Elementary", value: "E", desc: "Discription"},
    {text: "Basic", value: "B", desc: "Discription"},
    {text: "Conversational", value: "C", desc: "Discription"},
    {text: "Fluent", value: "F", desc: "Discription"},
    {text: "Native", value: "N", desc: "Discription"}
  ]
  $scope.langs = [];
  $scope.langsToAdd = [{
    name: '',
    profeciency: ''
  }];
  var index =0;
  $scope.addMoreLangClick=function(langToAdd){
    $scope.langsToAdd.splice(index, 0);
    $scope.langs.push(angular.copy(langToAdd));
    $scope.langsToAdd.push({
        name: '',
        profeciency: ''
      });
      index++

  }

  //Add Education
  $scope.educations = [];
  $scope.educationsToAdd = [{
    school: '',
    fromdate: '',
    todate: '',
    degree:'',
    field:'',
    grade:''
  }];

  var indexEdu =0;
  $scope.addMoreEduClick=function(educationToAdd){
    $scope.educationsToAdd.splice(indexEdu, 0);
    $scope.educations.push(angular.copy(educationToAdd));
    $scope.educationsToAdd.push({
      school: '',
      fromdate: '',
      todate: '',
      degree:'',
      field:'',
      grade:''
    });
      indexEdu++

  }

  // Main Services
  $scope.toggleSelectedSRV = function(service) {
     service.isselected = !service.isselected;
  };

  var service = $resource("/mainServices")
  $scope.getMainServices = function(){
    service.query(
      function(data){
        $scope.mainServices = data;
      } // function(data)
    ) // service.query
  };

  $scope.getIcon = function(serviceSelect){
    if (serviceSelect.icon) {
      if (serviceSelect.isChecked) return serviceSelect.icon.on;
      else return serviceSelect.icon.off;
    }
  }

  $scope.skillClick=function(selectedSkill){
    selectedSkill.isselected=!selectedSkill.isselected;
  }

// Save an account
  var saveAccount = $resource("/saveAccount")
  $scope.finishClick=function(){
      var newAccount = new saveAccount();
      newAccount.name = $scope.fullname;
      newAccount.email = $scope.email;
      newAccount.city = $scope.selectedCity;
      newAccount.phone = $scope.phone;
      newAccount.password = $scope.password;
      if($scope.isStudent){
        newAccount.isstudent = true;
      }
      else {
        newAccount.isstudent = false;
      }

      newAccount.languages = $scope.langs;

      newAccount.educations = $scope.educations;

      newAccount.skills = $scope.mainServices;

      newAccount.$save(
        function(data){});
  }// finish click

}
]// scope, resource
);

</script>
</html>
